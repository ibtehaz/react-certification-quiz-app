<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReactMastery - React Certification Quiz</title>
    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/responsive.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="app-title"><i class="fa-brands fa-react"></i> ReactMastery</h1>
                    <p class="app-subtitle">W3Schools React Certification Prep</p>
                </div>
                <div class="header-controls">
                    <button id="settingsBtn" class="icon-btn" title="Settings"><i class="fa-solid fa-gear"></i></button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Welcome Screen -->
            <section id="welcomeScreen" class="screen screen-active">
                <div class="welcome-container">
                    <div class="welcome-content">
                        <div class="welcome-icon"><i class="fa-brands fa-react"></i></div>
                        <p>Master React for the W3Schools Certification</p>


                        <div class="form-group">
                            <label>Select Quiz Mode</label>
                            <div class="mode-selector">
                                <button id="practiceMode" class="mode-btn mode-active" data-mode="practice">
                                    <span class="mode-icon"><i class="fa-solid fa-book-open"></i></span>
                                    <span class="mode-title">Practice</span>
                                    <span class="mode-desc">Learn at your pace</span>
                                </button>
                                <button id="challengeMode" class="mode-btn" data-mode="challenge">
                                    <span class="mode-icon"><i class="fa-solid fa-fire"></i></span>
                                    <span class="mode-title">Challenge</span>
                                    <span class="mode-desc">Timed test</span>
                                </button>
                            </div>
                        </div>

                        <button id="startQuizBtn" class="btn btn-primary btn-large">
                            <i class="fa-solid fa-play"></i> Start Quiz
                        </button>

                        <div class="welcome-stats">
                            <div class="stat-item">
                                <span class="stat-value" id="totalAttempts">0</span>
                                <span class="stat-label">Attempts</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="bestScore">0%</span>
                                <span class="stat-label">Best Score</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="avgScore">0%</span>
                                <span class="stat-label">Average</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quiz Screen -->
            <section id="quizScreen" class="screen">
                <div class="quiz-container">
                    <!-- Quiz Header -->
                    <div class="quiz-header">
                        <div class="quiz-info">
                            <span class="question-counter">
                                Question <span id="currentQuestion">1</span> of <span id="totalQuestions">20</span>
                            </span>
                            <span class="category-badge" id="categoryBadge">React Basics</span>
                        </div>
                        <div class="quiz-stats">
                            <span class="score-display">Score: <span id="currentScore">0</span></span>
                            <span class="streak-display" id="streakDisplay" style="display: none;">
                                üî• Streak: <span id="streakCount">0</span>
                            </span>
                        </div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                    </div>

                    <!-- Timer -->
                    <div class="timer-section" id="timerSection">
                        <div class="timer-display">
                            <svg class="timer-circle" viewBox="0 0 36 36">
                                <circle class="timer-background" cx="18" cy="18" r="15.915"></circle>
                                <circle class="timer-progress" id="timerProgress" cx="18" cy="18" r="15.915"></circle>
                            </svg>
                            <span class="timer-text" id="timerText">20</span>
                        </div>
                    </div>

                    <!-- Question Content -->
                    <div class="question-section">
                        <h3 id="questionText" class="question-text">Loading question...</h3>
                        <p id="questionHint" class="question-hint" style="display: none;"></p>
                    </div>

                    <!-- Answer Options -->
                    <div class="answers-container">
                        <div id="answersGrid" class="answers-grid"></div>
                    </div>

                    <!-- Feedback Section -->
                    <div id="feedbackSection" class="feedback-section" style="display: none;">
                        <div id="feedbackContent" class="feedback-content"></div>
                    </div>

                    <!-- Navigation Buttons -->
                    <div class="quiz-navigation">
                        <button id="prevBtn" class="btn btn-secondary">‚Üê Previous</button>
                        <button id="skipBtn" class="btn btn-secondary" style="display: none;">Skip</button>
                        <button id="nextBtn" class="btn btn-primary" style="display: none;">Next ‚Üí</button>
                    </div>
                </div>
            </section>

            <!-- Results Screen -->
            <section id="resultsScreen" class="screen">
                <div class="results-container">
                    <div class="results-content">
                        <div class="results-header">
                            <h2>Quiz Complete!</h2>
                            <p id="performanceMessage">Great job! üéâ</p>
                        </div>

                        <div class="score-display-large">
                            <div class="final-score" id="finalScore">0</div>
                            <div class="final-score-label">out of <span id="maxScore">20</span></div>
                        </div>

                        <div class="performance-metrics">
                            <div class="metric-row">
                                <span class="metric-label">Accuracy:</span>
                                <span class="metric-value" id="accuracyValue">0%</span>
                                <div class="metric-bar">
                                    <div class="metric-fill" id="accuracyBar"></div>
                                </div>
                            </div>

                            <div class="metric-row">
                                <span class="metric-label">Time Taken:</span>
                                <span class="metric-value" id="timeTakenValue">0s</span>
                            </div>

                            <div class="metric-row">
                                <span class="metric-label">Best Streak:</span>
                                <span class="metric-value" id="bestStreakValue">0</span>
                            </div>

                            <div class="metric-row">
                                <span class="metric-label">Speed:</span>
                                <span class="metric-value" id="speedValue">0s/q</span>
                            </div>
                        </div>

                        <!-- Category Breakdown -->
                        <div class="category-breakdown">
                            <h3>Category Breakdown</h3>
                            <div id="categoryStats" class="category-stats-grid"></div>
                        </div>

                        <!-- Answer Review -->
                        <div class="answer-review" id="answerReview"></div>

                        <!-- Results Actions -->
                        <div class="results-actions">
                            <button id="reviewAnswersBtn" class="btn btn-secondary">Review Answers</button>
                            <button id="retryQuizBtn" class="btn btn-primary">Try Again</button>
                            <button id="backToMenuBtn" class="btn btn-outline">Back to Menu</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Leaderboard Screen -->
            <!-- Removed: Leaderboard not used -->

            <!-- Settings Modal -->
            <section id="settingsModal" class="modal">
                <div class="modal-content">
                    <button id="closeSettings" class="close-btn"><i class="fa-solid fa-xmark"></i></button>
                    
                    <h2>Settings</h2>

                    <div class="settings-group">
                        <label class="setting-label">
                            <input type="checkbox" id="soundToggle" checked>
                            <span>Sound Effects</span>
                        </label>
                    </div>

                    <div class="settings-group">
                        <label class="setting-label">
                            <input type="checkbox" id="timerToggle" checked>
                            <span>Show Timer</span>
                        </label>
                    </div>

                    <div class="settings-group">
                        <label class="setting-label">
                            <input type="checkbox" id="feedbackToggle" checked>
                            <span>Instant Feedback</span>
                        </label>
                    </div>

                    <div class="settings-group">
                        <label for="themeSelect">Theme</label>
                        <select id="themeSelect" class="form-select">
                            <option value="dark">Dark Mode</option>
                            <option value="light">Light Mode</option>
                        </select>
                    </div>

                    <div class="settings-actions">
                        <button id="clearDataBtn" class="btn btn-danger">Clear All Data</button>
                        <button id="closeSettingsBtn" class="btn btn-primary">Close</button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Overlay for Modals -->
        <div id="modalOverlay" class="modal-overlay" style="display: none;"></div>

        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <!-- Scripts -->
    <script src="scripts/questions.js"></script>
    <script src="scripts/storage-manager.js"></script>
    <script src="scripts/timer.js"></script>
    <script src="scripts/quiz-engine.js"></script>
    <script src="scripts/ui-manager.js"></script>
    <script src="scripts/app.js"></script>
</body>
</html>
